## 서론
과거에는 간단한 앱만을 만들어 보았기 때문에 비동기 작업에 크게 신경 쓸 필요가 없었습니다. 일반적으로 코드는 순서대로 짜면 순서대로 실행됐습니다. 하지만 실제 다양한 층위의 작업들이 다양하게 이루어지는 다소 복잡한 앱이라면 그렇지 않겠죠. 개발자의 의도대로 조절되지 않는 경우가 발생할 수 있는데, 이때 구글링하면 제일 많이 나오는 모범 답안이 `DispatchQueue`입니다.

## DispatchQueue에 대한 사전 지식
`DispatchQueue`는 작업이 이루어지는 큐입니다. 동기/비동기, 메인/나머지로 나뉘며, 개발자가 작업 순서를 조절할 수 있게 제공되는 기능이라고 이해했습니다.

## DispatchQueue의 첫번째 활용
`DispatchQueue`를 처음으로 사용하게 된 건 `tableView.reloadData`를 호출할 때 발생하는 문제 때문이었습니다. 분명히 코드를 작성했는데, 인위적으로 새로고침을 하기 전까진 절대 실행되지 않았죠. 이는 타이밍의 문제였습니다. `DispatchQueue.async`로 처리하니 `tableView`가 가능한 순간에 알아서 업데이트되면서 자연스레 해결되었습니다.

## DispatchQueue의 두번째 활용
`DispatchQueue`를 다시 사용하게 된 건 `Firebase`를 쓰게 되면서 발생한 작업 순서 문제였습니다. `Firebase`가 URL을 적절한 시기에 내놓아야 URL로 `JSON`이나 동영상을 가져오는데, 이 순서가 엉키게 되면 URL이 nil값을 가지게 되는 대참사가 발생합니다. 그러나 이 작업에 `DispatchQueue`를 사용하기에는 현실적인 어려움이 있었습니다. URL 가져오는 작업의 어디부터 어디까지를 비동기 작업의 영역으로 설정해야 하는지도 막막했고, `DispatchQueue`의 가장 강력한 무기(?)인 `wait`을 사용한다면 앱 전체가 멈춰 버렸습니다. 이런저런 시행착오를 거치다 전후 작업을 별개의 함수로 쪼개고, 이전 작업에서 URL이 `nil`값이 아닐 때에만 URL을 매개변수로 받는 이후 작업이 실행되도록 만들었습니다. 더 세련된 해결 방법이 있을지도 모르겠지만, 이 방법은 작업 순서를 확립하는 데에는 꽤 효과가 좋았습니다.

## References
[Swift. GCD 기초 정리하기](https://devmjun.github.io/archive/2-GCD "Swift GCD")
